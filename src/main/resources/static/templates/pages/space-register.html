<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>íŒì—… ê³µê°„ ëŒ€ì—¬ ë“±ë¡</title>

    <!-- ê³µí†µ ë ˆì´ì•„ì›ƒ -->
    <link rel="stylesheet" href="/css/layout.css" />
    <!-- í˜ì´ì§€ ì „ìš© CSS(ìˆìœ¼ë©´) -->
    <link rel="stylesheet" href="/css/space-register.css" />
</head>
<body>
<div class="mobile-container">
    <div id="header-container"></div>

    <main class="main-content">
        <div class="space-register-container" style="padding:20px;background:#fff;margin-top:10px;padding-bottom:100px">
            <h1 class="page-title">íŒì—… ê³µê°„ ëŒ€ì—¬ ë“±ë¡</h1>

            <form id="spaceForm">
                <div class="form-group">
                    <label for="title">ê¸€ ì œëª©</label>
                    <input type="text" id="title" name="title" placeholder="ë“±ë¡ê¸€ ì œëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”" required />
                    <div class="error" id="titleError"></div>
                </div>

                <div class="image-upload" style="display:flex;flex-direction:column;align-items:center;margin:16px 0 28px">
                    <div id="imagePreview" class="image-preview"
                         style="width:120px;height:120px;border:2px dashed #ddd;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden"
                         onclick="document.getElementById('imageFile').click()">
                        <span style="font-size:38px;color:#9aa">ğŸ“·</span>
                    </div>
                    <input type="file" id="imageFile" accept="image/*" style="display:none" />
                </div>

                <div class="form-group">
                    <label for="address">ì£¼ì†Œ</label>
                    <input type="text" id="address" name="address" placeholder="ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" required />
                    <div class="error" id="addressError"></div>
                </div>

                <div class="form-group">
                    <label for="areaSize">ë©´ì  (ã¡)</label>
                    <input type="number" id="areaSize" name="areaSize" placeholder="ì˜ˆ: 120" required />
                    <div class="error" id="areaSizeError"></div>
                </div>

                <div class="form-group">
                    <label for="startDate">ì„ëŒ€ ì‹œì‘ì¼</label>
                    <input type="date" id="startDate" name="startDate" required />
                    <div class="error" id="startDateError"></div>
                </div>

                <div class="form-group">
                    <label for="endDate">ì„ëŒ€ ì¢…ë£Œì¼</label>
                    <input type="date" id="endDate" name="endDate" required />
                    <div class="error" id="endDateError"></div>
                </div>

                <div class="form-group">
                    <label for="rentalFee">ì„ëŒ€ë£Œ (í•˜ë£¨ ë§Œì› ë‹¨ìœ„)</label>
                    <input type="number" id="rentalFee" name="rentalFee" placeholder="ì˜ˆ: 50" required />
                    <div class="error" id="rentalFeeError"></div>
                </div>

                <div class="form-group">
                    <label for="contactPhone">ë¬¸ì˜ ì „í™”ë²ˆí˜¸</label>
                    <input type="tel" id="contactPhone" name="contactPhone" placeholder="010-1234-5678" required />
                    <div class="error" id="contactPhoneError"></div>
                </div>

                <div class="form-group">
                    <label for="description">ìƒì„¸ ì„¤ëª…</label>
                    <textarea id="description" name="description" rows="4" placeholder="ê³µê°„ ìƒì„¸ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    <div class="error" id="descriptionError"></div>
                </div>

                <button type="submit" class="submit-btn" style="width:100%;padding:14px 16px;border:0;border-radius:8px;background:#6366f1;color:#fff;font-weight:700">ë“±ë¡í•˜ê¸°</button>
            </form>
        </div>
    </main>

    <div id="footer-container"></div>
</div>

<!-- ê³µí†µ/í˜ì´ì§€ ìŠ¤í¬ë¦½íŠ¸ -->
<script src="/js/templateLoader.js"></script>
<script src="/js/api.js"></script>
<script src="/js/layout.js"></script>
<script src="/js/space-register.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', async () => {
        await loadComponents();
        initializeLayout();

        // íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°(ê°„ë‹¨)
        const file = document.getElementById('imageFile');
        const prev = document.getElementById('imagePreview');
        if (file && prev) {
            file.addEventListener('change', e => {
                const f = e.target.files?.[0]; if (!f) return;
                const img = new Image(); img.onload = () => { prev.innerHTML = ''; prev.appendChild(img); };
                img.style.width='100%'; img.style.height='100%'; img.style.objectFit='cover';
                img.src = URL.createObjectURL(f);
            });
        }

        window.SpaceRegisterPage?.init?.();
    });
</script>
</body>
</html>
