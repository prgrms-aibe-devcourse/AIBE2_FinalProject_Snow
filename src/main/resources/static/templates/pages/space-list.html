<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>íŒì—… ê³µê°„ ëŒ€ì—¬ - ëª©ë¡</title>

    <!-- ê³µí†µ ë ˆì´ì•„ì›ƒ -->
    <link rel="stylesheet" href="/css/layout.css" />
    <!-- í˜ì´ì§€ ì „ìš© CSS -->
    <link rel="stylesheet" href="/css/space-list.css" />
</head>
<body>
<div class="mobile-container">
    <!-- í—¤ë”/í‘¸í„°ëŠ” layout.jsë¡œ ë¡œë“œ -->
    <div id="header-container"></div>

    <main class="main-content" id="main-content">
        <!-- ê¸°ì¡´ ëª©ë¡ ë§ˆí¬ì—… (ê·¸ëŒ€ë¡œ ìœ ì§€) -->
        <div class="space-list-container">
            <div class="page-header">
                <h1 class="page-title">íŒì—… ê³µê°„ ëŒ€ì—¬</h1>
                <a class="register-btn" href="/templates/pages/space-register.html">ë“±ë¡í•˜ê¸°</a>
            </div>

            <!-- ë¡œë”© -->
            <div id="loading" class="loading">ê³µê°„ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘</div>

            <!-- ëª©ë¡ -->
            <div id="spaceList"></div>

            <!-- ë¹ˆ ìƒíƒœ -->
            <div id="emptyState" class="empty-state" style="display:none;">
                <div class="empty-icon">ğŸ¢</div>
                <p>ë“±ë¡ëœ ê³µê°„ì´ ì—†ìŠµë‹ˆë‹¤.</p><br />
                <a class="register-btn" href="/templates/pages/space-register.html">ë“±ë¡í•˜ê¸°</a>
            </div>
        </div>
    </main>

    <div id="footer-container"></div>
</div>

<!-- ê³µí†µ JS -->
<script src="/js/templateLoader.js"></script>
<script src="/js/api.js"></script>
<script src="/js/layout.js"></script>

<!-- í˜ì´ì§€ JS -->
<script src="/js/space-list.js"></script>

<!-- MPAìš© ë¼ìš°íŒ… í˜¸í™˜(ê¸°ì¡´ Pages í˜¸ì¶œì„ ì¼ë°˜ ì´ë™ìœ¼ë¡œ ë°”ê¿ˆ) -->
<script>

    document.addEventListener('DOMContentLoaded', async () => {
        await loadComponents();      // header/footer ë¡œë“œ
        initializeLayout();

        // ìƒë‹¨/ë¹ˆìƒíƒœ â€œë“±ë¡í•˜ê¸°â€ ë²„íŠ¼ â†’ ë…ë¦½ í˜ì´ì§€ë¡œ ì´ë™
        document.querySelectorAll('.register-btn').forEach(btn => {
            btn.addEventListener('click', () => Pages.spaceRegister());
        });

        // í˜ì´ì§€ ì´ˆê¸°í™”
        if (window.SpaceListPage?.init) {
            // ê¸°ì¡´ space-list.jsê°€ ë‚´ë¶€ì—ì„œ Pages.spaceDetail(id) ë“±ì„ í˜¸ì¶œí•´ë„ ìœ„ì˜ MPAìš© Pagesê°€ ì²˜ë¦¬í•¨
            SpaceListPage.init();
        } else {
            document.getElementById('loading').textContent = 'ëª©ë¡ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
        }
    });
</script>
</body>
</html>
